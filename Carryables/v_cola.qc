// Created by MrFunreal. 

	$ModelName "v_models/v_cola.mdl"
//	$ModelName !/TEMP 						//HLMV will only load custom models if the modelname is unique. Which is that this is for.

// Note: I would HEAVILY reccomend you to move the $model line to the very bottom of the entire qc file.
// This will make sure the ref pose generated by $UnlockDefineBones will not be looking weird.

$Model Body		CustomMeshHere				//This is the model you're compiling. Will pick DMX over SMD, if both file types exist.
$CDMaterials	"Models/Weapons/Whatever" 	//This is the subfolder of "materials" where your materials and textures will be. Change it to whatever you want.

$Attachment "attach_shell_eject" "ValveBiped.attach_shell_eject" 0 0 0 rotate 0 0 0
$Attachment "attach_muzzle" "ValveBiped.attach_muzzle" 0 0 0 rotate 0 0 0
$Attachment "attach_blur1" "ValveBiped.weapon_bone" 1.49 34 -1.22 rotate 0 0 -101.89
$Attachment "attach_blur" "ValveBiped.weapon_bone" 1.49 34 -1.22 rotate 0 0 -101.89
$Attachment "attach_camera" "ValveBiped.attach_camera" 0 0 0 rotate 0 0 0

// You shouldn't edit anthing in this little box
//--------------------------------------------------------------------------------------
$SurfaceProp "default"
$Contents "solid"
$IllumPosition -5.84 -5.567 -23.275
$MostlyOpaque // Or $Opaque
$CBox 0 0 0 0 0 0
$BBox -9.377 -13.755 -64 20.512 2.076 17.449
//--------------------------------------------------------------------------------------

$UnlockDefineBones
$include "Bones.qci" //Make sure to also copy the bones.qci to whatever folder you're using this qc in.

//These definebone lines exist because this model uses them by default. If you don't want these bones, delete these lines.
$DefineBone "ValveBiped.bottle004_glass"	"ValveBiped.weapon_bone"		-2.515707 -0.17608 -1.256931 0 0 -90.000009 0 0 0 0 0 0
$DefineBone "ValveBiped.bottle004_liquid"	"ValveBiped.bottle004_glass"	0.006731 -0.036514 7.512704 0 0 0 0 0 0 0 0 0
$DefineBone "ValveBiped.bottle005_glass" 	"ValveBiped.weapon_bone"		-0.211253 -0.17608 -1.256927 0 0 -90.000009 0 0 0 0 0 0
$DefineBone "ValveBiped.bottle005_liquid"	"ValveBiped.bottle005_glass" 	0.001988 -0.036514 7.512704 0 0 0 0 0 0 0 0 0
$DefineBone "ValveBiped.bottle006_glass" 	"ValveBiped.weapon_bone"		2.094622 -0.176076 -1.256927 0 0 -90.000009 0 0 0 0 0 0
$DefineBone "ValveBiped.bottle006_liquid"	"ValveBiped.bottle006_glass" 	-0.01599 -0.036518 7.512704 0 0 0 0 0 0 0 0 0
$DefineBone "ValveBiped.bottle001_glass" 	"ValveBiped.weapon_bone"		2.094622 -0.176079 1.029541 0 0 -90.000009 0 0 0 0 0 0
$DefineBone "ValveBiped.bottle001_liquid"	"ValveBiped.bottle001_glass" 	-0.01599 -0.021561 7.512704 0 0 0 0 0 0 0 0 0
$DefineBone "ValveBiped.bottle003_glass" 	"ValveBiped.weapon_bone" 		-2.515707 -0.176079 1.029537 0 0 -90.000009 0 0 0 0 0 0
$DefineBone "ValveBiped.bottle003_liquid"	"ValveBiped.bottle003_glass"	0.00673 -0.021557 7.512704 0 0 0 0 0 0 0 0 0
$DefineBone "ValveBiped.bottle002_glass" 	"ValveBiped.weapon_bone"		-0.211253 -0.176079 1.029541 0 0 -90.000009 0 0 0 0 0 0
$DefineBone "ValveBiped.bottle002_liquid"	"ValveBiped.bottle002_glass"	0.001988 -0.021557 7.512704 0 0 0 0 0 0 0 0 0

//i'm keeping the jiggelbone data here in case you want to re.use them.
$JiggleBone "ValveBiped.bottle004_glass"
{
	is_flexible
	{
		length 15
		tip_mass 0
		pitch_stiffness 15
		pitch_damping 1
		yaw_stiffness 15
		yaw_damping 1
		along_stiffness 100
		along_damping 0
		angle_constraint 0.75
	}
}
$JiggleBone "ValveBiped.bottle004_liquid"
{
	is_flexible
	{
		length 15
		tip_mass 0
		pitch_stiffness 40
		pitch_damping 3
		yaw_stiffness 40
		yaw_damping 3
		along_stiffness 100
		along_damping 0
		angle_constraint 30.000001
	}
}
$JiggleBone "ValveBiped.bottle005_glass"
{
	is_flexible
	{
		length 15
		tip_mass 0
		pitch_stiffness 40
		pitch_damping 1
		yaw_stiffness 40
		yaw_damping 1
		along_stiffness 100
		along_damping 0
		angle_constraint 1.75
	}
}
$JiggleBone "ValveBiped.bottle005_liquid"
{
	is_flexible
	{
		length 15
		tip_mass 0
		pitch_stiffness 40
		pitch_damping 3
		yaw_stiffness 40
		yaw_damping 3
		along_stiffness 100
		along_damping 0
		angle_constraint 30.000001
	}
}
$JiggleBone "ValveBiped.bottle006_glass"
{
	is_flexible
	{
		length 15
		tip_mass 0
		pitch_stiffness 20
		pitch_damping 1
		yaw_stiffness 20
		yaw_damping 1
		along_stiffness 100
		along_damping 0
		angle_constraint 1
	}
}
$JiggleBone "ValveBiped.bottle006_liquid"
{
	is_flexible
	{
		length 15
		tip_mass 0
		pitch_stiffness 40
		pitch_damping 3
		yaw_stiffness 40
		yaw_damping 3
		along_stiffness 100
		along_damping 0
		angle_constraint 30.000001
	}
}
$JiggleBone "ValveBiped.bottle001_glass"
{
	is_flexible
	{
		length 15
		tip_mass 0
		pitch_stiffness 25
		pitch_damping 1
		yaw_stiffness 25
		yaw_damping 1
		along_stiffness 100
		along_damping 0
		angle_constraint 1
	}
}
$JiggleBone "ValveBiped.bottle001_liquid"
{
	is_flexible
	{
		length 15
		tip_mass 0
		pitch_stiffness 30
		pitch_damping 3
		yaw_stiffness 30
		yaw_damping 3
		along_stiffness 100
		along_damping 0
		angle_constraint 50
	}
}
$JiggleBone "ValveBiped.bottle003_glass"
{
	is_flexible
	{
		length 15
		tip_mass 0
		pitch_stiffness 35
		pitch_damping 1
		yaw_stiffness 35
		yaw_damping 1
		along_stiffness 100
		along_damping 0
		angle_constraint 1
	}
}
$JiggleBone "ValveBiped.bottle003_liquid"
{
	is_flexible
	{
		length 15
		tip_mass 0
		pitch_stiffness 40
		pitch_damping 3
		yaw_stiffness 40
		yaw_damping 3
		along_stiffness 100
		along_damping 0
		angle_constraint 10
	}
}
$JiggleBone "ValveBiped.bottle002_glass"
{
	is_flexible
	{
		length 15
		tip_mass 0
		pitch_stiffness 20
		pitch_damping 1
		yaw_stiffness 20
		yaw_damping 1
		along_stiffness 100
		along_damping 0
		angle_constraint 1
	}
}
$JiggleBone "ValveBiped.bottle002_liquid"
{
	is_flexible
	{
		length 15
		tip_mass 0
		pitch_stiffness 50
		pitch_damping 3
		yaw_stiffness 50
		yaw_damping 3
		along_stiffness 100
		along_damping 0
		angle_constraint 30.000001
	}
}

//--------------------------------------------------------------------------------------
// Removed Knee lines, cause the compiler creates its own.
// IT'S UP TO YOU TO ADD PROPER IKRULES WHERE REQUIRED IN ALL $SEQUENCES!
// I've added basic ikrules to most sequences. But use your own brain to figure out if it's the way you want it!
$IKChain "lhand" "ValveBiped.Bip01_L_Hand"
$IKChain "rhand" "ValveBiped.Bip01_R_Hand"

$PoseParameter "ver_aims" -1 1 loop 0
$PoseParameter "move_x" -1 1 loop 0

// $ANIMATIONS - Make sure the actual animation names are as described in this qc!
//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
$animation a_idle		anims/idle 		loop		ikrule rhand touch weapon usesource ikrule lhand touch weapon usesource
$animation a_look_down	anims/lookpose	frames 0 0 subtract a_idle  0
$animation a_look_mid	anims/lookpose	frames 1 1 subtract a_idle  0
$animation a_look_up	anims/lookpose	frames 2 2 subtract a_idle  0
$animation a_run		anims/run.smd	loop

// Once you set the FPS or other stuff in all the following $animation lines below, make of copy of them and change the prefix of the copy from A_ to AL_!
// That way your non_layer and _layer sequences will have the same settings, while also preventing a nasty bug from appearing.
// I could have set these up for you beforehand, but i myself always edit the FPS, so i would always need to edit two lines for that. Just duping and renaming is quicker.
$animation a_deploy		anims/deploy 	fps 30
$animation a_melee		anims/melee		fps 30

// $SEQUENCES
// Edit Fadein/Fadeout and animation events if you want.
// All Hidden sequences are the non_layers you don't need to see in HLMV. (Except for lookpose)
// I took the liberty to add "Subtract a_idle 0 Delta" to every visible $sequence to make blending happen. Delete where you don't want it.
//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
$Sequence "look_poses"		a_look_down a_look_mid a_look_up							Hidden	blend "ver_aims" 1 -1 	blendwidth 3	delta
$Sequence "idle_raw" 		a_idle 														Hidden
$Sequence "idle"			a_run a_idle a_run					"ACT_VM_IDLE" 1					blend "move_x" -1 1		blendwidth 3	addlayer "look_poses" loop	ikrule rhand touch weapon usesource ikrule lhand touch weapon usesource
$Sequence "deploy_layer"	a_deploy							"ACT_VM_DEPLOY_LAYER" 1			snap		Fadeout 0.2 subtract a_idle 0 delta						ikrule rhand touch weapon usesource ikrule lhand touch weapon usesource
$Sequence "melee_layer"		a_melee								"ACT_VM_MELEE_LAYER" 1			Fadein 0.2	Fadeout 0.2 subtract a_idle 0 delta						ikrule rhand touch weapon usesource ikrule lhand touch weapon usesource

// There's no helping hand anims. You could probably add some. But why bother :3
//You can add new $SEQUENCES below here. But they'll be buggy when you play online.